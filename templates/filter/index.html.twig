{% extends 'base.html.twig' %}

{% block title %}NDLP - Cross du coll√®ge{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}

		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>

	<div class="example-wrapper">
		<h1>{% trans %}Rank{% endtrans %}</h1>

		<p class="lead">
			<a class="btn btn-primary btn-lg" href="{{ path('app_export_excel') }}">{% trans %}Export table in Excel{% endtrans %}</a>
		</p>

		<p class="lead">
			<a class="btn btn-primary btn-lg" href="{{ path('app_export_pdf') }}">{% trans %}Export table in Pdf{% endtrans %}</a>
		</p>
		
		<br/><br/>
		<table border="0">
			<tr>
				<td>
					<form method="get" action="{{ path('app_filter') }}">
						<select name="grades">
							<option value="">{% trans %}-- Select a grade --{% endtrans %}</option>
							{% for grade in grades %}
								<option value="{{ grade.shortname }}" {% if grade.shortname == grade_checked %} selected {% endif%}>{{ grade.shortname }}</option>
							{% endfor %}
						</select>
						<select name="levels">
							<option value="">{% trans %}-- Select a level --{% endtrans %}</option>
							{% for level in levels %}
								<option value="{{ level }}" {% if level==level_checked %} selected {% endif%}>{{ level }}</option>
							{% endfor %}
						</select>
						<select name="genders">
							<option value="">{% trans %}-- Select a gender --{% endtrans %}</option>
							{% for gender in genders %}
								<option value="{{ gender }}" {% if gender==gender_checked %} selected {% endif%}>{{ gender }}</option>
							{% endfor %}
						</select>
						<input type="submit" value="Envoyer">
					</form>
					{# </tr> #}
				</td>
			</tr>
		</table>

		<br/><br/>
		<table class="table">
			<tr>
				<th scope="col">{% trans %}Rank{% endtrans %}</th>
				<th scope="col">{% trans %}Student{% endtrans %}</th>
				<th scope="col">{% trans %}Grade{% endtrans %}</th>
				<th scope="col">{% trans %}Category{% endtrans %}</th>
				<th scope="col">{% trans %}Gender{% endtrans %}</th>
				<th scope="col">{% trans %}Chronometer{% endtrans %}</th>
				<th scope="col">{% trans %}Score{% endtrans %}</th>
			</tr>

			{% set classement = 1 %}
			{% for row in rows %}
				<tr>
					<td>{{ classement }}</td>
					<td>{{ row.firstname }}
						{{ row.lastname }}</td>
					<td>{{ row.shortname }}</td>
					<td>{{ row.level }}</td>
					<td>{{ row.gender }}</td>
					<td>{{ row.chronometre|date("H:i:s") }}</td>
					<td>{{ row.note }}</td>
				</tr>
				{% set classement = classement + 1 %}
			{% endfor %}

			{{ error_message }}
		</table>
	</div>
{% endblock %}
